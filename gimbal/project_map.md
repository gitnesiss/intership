# Проект: Видеосистема на одноплатном компьютере с SBGC v3.6 и камерой 30x Zoom

```markdown
## 1. Подготовка и исследование
- [ ] Изучить документацию:
  - [ ] SBGC v3.6 (протоколы, команды, подключение).
  - [ ] Камера с 30x Zoom (интерфейсы, управление зумом).
  - [ ] Одноплатный компьютер (Raspberry Pi/Jetson Nano).
- [ ] Заказать недостающие компоненты.
- [ ] Настроить среду разработки (Python, OpenCV, PySerial).

## 2. Аппаратная настройка
- [ ] Подключить SBGC v3.6:
  - [ ] Через UART/USB к одноплатнику.
  - [ ] Проверить питание (12В, 2А+).
- [ ] Подключить камеру:
  - [ ] CSI/HDMI или IP-камера.
  - [ ] Проверить видеозахват (`ffmpeg`/`OpenCV`).
- [ ] Тест железа:
  - [ ] Отправить тестовую команду на SBGC (калибровка).
  - [ ] Проверить реакцию моторов.

## 3. Программное обеспечение
### 3.1. Управление SBGC
- [ ] Реализовать базовые команды:
  - [ ] Калибровка гироскопа (`CMD 0x02`).
  - [ ] Управление моторами (`CMD 0x01`).
  - [ ] Чтение данных с датчиков (`CMD 0x03`).
- [ ] Написать функции:
  - [ ] `set_angle(pitch, yaw, roll)`.
  - [ ] `get_sensor_data()`.

### 3.2. Управление камерой
- [ ] Настроить видеозахват:
  - [ ] OpenCV (`cv2.VideoCapture`).
  - [ ] GStreamer (для низких задержек).
- [ ] Управление зумом:
  - [ ] HTTP-API/Pelco-D/ONVIF.
  - [ ] Функция `zoom(in/out)`.

### 3.3. Интеграция
- [ ] Синхронизировать SBGC и камеру:
  - [ ] Плавное перемещение камеры + зум.
  - [ ] Обработка ошибок (таймауты, CRC).

## 4. Алгоритмы стабилизации
- [ ] Реализовать ПИД-регулятор:
  - [ ] Настроить коэффициенты (P, I, D).
  - [ ] Тесты на вибростенде (если есть).
- [ ] Автоматическое управление:
  - [ ] Детекция движения (`OpenCV`).
  - [ ] Трекинг объектов.

## 5. Интерфейс пользователя
- [ ] Вариант 1: Веб-интерфейс (Flask):
  - [ ] Кнопки управления SBGC.
  - [ ] Просмотр видео в реальном времени.
- [ ] Вариант 2: GUI (PyQt/Tkinter):
  - [ ] Ползунки для углов/зума.
  - [ ] Логи данных с датчиков.

## 6. Тестирование
- [ ] Юнит-тесты:
  - [ ] Проверка команд SBGC.
  - [ ] Тесты видеозахвата.
- [ ] Интеграционные тесты:
  - [ ] Совместная работа SBGC + камера.
  - [ ] Замер задержек.

## 7. Оптимизация
- [ ] Уменьшить задержки:
  - [ ] Многопоточность (отдельные потоки для видео/SBGC).
  - [ ] Аппаратное ускорение (GPU для OpenCV).
- [ ] Настроить логирование:
  - [ ] Запись ошибок в файл.

## 8. Документация
- [ ] Схема подключения:
  - [ ] Pinout SBGC + одноплатник.
  - [ ] Разводка питания.
- [ ] Инструкция по запуску:
  - [ ] Установка зависимостей.
  - [ ] Примеры команд.

## 9. Дополнительно
- [ ] Интеграция с ROS (опционально).
- [ ] Поддержка нескольких камер.

---

## Сроки и приоритеты
- Высокий приоритет:
  - Управление SBGC (неделя 1).
  - Видеозахват (неделя 2).
- Средний приоритет:
  - Интерфейс (неделя 3).
  - Алгоритмы (неделя 4).
```
**Советы:**
- Для сложных этапов (например, ПИД-регулятор) создавайте отдельные файлы с детализацией.
- Используйте ветки Git для экспериментов (например, feature/pid-tuning).